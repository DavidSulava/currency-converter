(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{469:function(e,t,c){},470:function(e,t,c){"use strict";c.r(t);c(215),c(266);var a=c(0),n=c(105),r=c.n(n),s=c(84),l=c(21),u=c(68),j=c(47),i=c(213),o=c(139),b=c.n(o),O=c(211),v=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t,c){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.cbr-xml-daily.ru/daily_json.js",a={method:"GET"},e.prev=2,e.next=5,fetch("https://www.cbr-xml-daily.ru/daily_json.js",a);case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent).Valute||t({type:"SET_VALUTE",valute:{}}),t({type:"SET_VALUTE",valute:r.Valute}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,c){return e.apply(this,arguments)}}()},x=c(107),h=c(60),m=c(37),d=c(4);function p(e){var t=e.currency,c=t.Value-t.Previous;c=c.toPrecision(4);var a=Object(d.jsx)(m.a,{xs:1,sm:1,children:"\u2191"}),n=Object(d.jsx)(m.a,{xs:1,sm:1,children:"\u2193"});return Object(d.jsxs)(x.a,{className:"currency_element",children:[Object(d.jsxs)(h.a,{xs:!0,sm:!0,className:"currency_el_label",children:[" ",t.Name," "]}),Object(d.jsxs)(h.a,{xs:"auto",sm:"auto",className:"currency_data_wrapper",children:[Object(d.jsx)(m.a,{xs:7,sm:7,children:Object(d.jsxs)(h.a,{children:[Object(d.jsx)(m.a,{xs:"auto",sm:"auto",className:"p-0",children:t.Nominal+" "+t.CharCode}),Object(d.jsx)(m.a,{xs:2,sm:2,className:"text-center p-0",children:"\u2194"}),Object(d.jsx)(m.a,{xs:"auto",sm:"auto",className:"p-0",children:t.Value+" RUB"})]})}),Object(d.jsx)(m.a,{xs:4,sm:4,className:"ml-sm-4",children:Object(d.jsxs)(h.a,{className:"delta_wrapper",style:{color:c>0?"green":"red"},children:[c>0?a:n,Object(d.jsx)(m.a,{className:"ml-2",children:c})]})})]})]})}var f=c(212);var y=function(e){var t=e.searchData;return Object(d.jsxs)("form",{className:"searchForm",onSubmit:t,children:[Object(d.jsx)("input",{type:"text",placeholder:"Type to search..."}),Object(d.jsx)(f.a,{type:"submit",variant:"primary",size:"sm",children:"Search"})]})};var N=function(){var e,t,c=Object(j.c)(),n=Object(j.d)((function(e){return e.valute}),j.b),r=Object(a.useState)(n),s=Object(u.a)(r,2),l=s[0],o=s[1];return Object(a.useEffect)((function(){c(v())}),[c]),Object(a.useEffect)((function(){o(n)}),[n]),Object(d.jsxs)("div",{className:"currency_list_wrapper ",children:[Object(d.jsx)(y,{searchData:function(e){e.preventDefault();var t=e.target[0].value,c={};Object.keys(n).filter((function(e){var c=n[e].Name,a=n[e].CharCode,r=new RegExp(".*".concat(t,".*"),"i");return r.test(c)||r.test(a)})).map((function(e){c[e]=n[e]})),Object.keys(c).length&&o(c)}}),Object.keys(l).length?(e=l,t=p,Object.keys(e).map((function(c,a){var n=e[c];return Object(d.jsx)(t,{currency:n},n.ID)}))):Object(d.jsx)(i.a,{animation:"border",className:"align-self-center "})]})},_=c(109);var g=function(){var e="/home";return Object(d.jsxs)(_.a,{variant:"pills",children:[Object(d.jsx)(_.a.Item,{className:"navLink",children:Object(d.jsx)(s.b,{to:e,isActive:function(t,c){if(!c)return!1;var a=c.pathname;return"/"===a||a===e},children:"Currency"})}),Object(d.jsx)(_.a.Item,{className:"navLink",children:Object(d.jsx)(s.b,{to:"/converter",children:"Converter"})})]})},w=c(44);var E=function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.valute})),c=Object(a.useState)(["EUR","AUD","GBP"]),n=Object(u.a)(c,2),r=n[0],s=n[1],l=Object(a.useState)({label:"",input:1,select:"",value:""}),i=Object(u.a)(l,2),o=i[0],b=i[1],O=Object(a.useState)({label:"",input:1,select:"",value:""}),p=Object(u.a)(O,2),f=p[0],y=p[1];Object(a.useEffect)((function(){Object.keys(t).length||e(v())}),[e,t]),Object(a.useEffect)((function(){if(Object.keys(t).length){var e=Object.keys(t);s(e),b({label:t[e[0]].Name,input:1,select:e[0],value:t[e[0]].Value}),y({label:t[e[1]].Name,input:1,select:e[1],value:t[e[1]].Value})}}),[t]),Object(a.useEffect)((function(){var e=o.select;e&&t[e]&&_(o.input)}),[o.select,f.select,o.input,t]);var N=function(e,c){var a=e.target.value;a&&t[a]&&c((function(e){return Object(w.a)(Object(w.a)({},e),{},{select:a,label:t[a].Name,value:t[a].Value})}))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!o.value||!f.value||isNaN(e))return 0;var t=o.value/f.value,c=e*t;c=c.toFixed(2),y((function(e){return Object(w.a)(Object(w.a)({},e),{},{input:c})}))},g=function(e){return e.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))};return Object(d.jsx)(x.a,{className:"converter_wrapper",children:Object(d.jsxs)(h.a,{children:[Object(d.jsx)(m.a,{xs:!0,sm:5,children:Object(d.jsxs)("form",{className:"converter_1",children:[Object(d.jsx)("label",{children:o.label}),Object(d.jsx)("br",{}),Object(d.jsx)("select",{onChange:function(e){return N(e,b)},value:o.select,className:"converter_form_select",children:g(r)}),Object(d.jsx)("input",{onChange:function(e){return b((function(t){return Object(w.a)(Object(w.a)({},t),{},{input:e.target.value})}))},value:o.input,type:"text"})]})}),Object(d.jsx)(m.a,{onClick:function(){var e=o;b(f),y(e)},xs:"auto",sm:"auto",className:"converter_arrow",children:"\u2194"}),Object(d.jsx)(m.a,{xs:!0,sm:5,children:Object(d.jsxs)("form",{className:"converter_2",children:[Object(d.jsx)("label",{children:f.label}),Object(d.jsx)("br",{}),Object(d.jsx)("select",{onChange:function(e){return N(e,y)},value:f.select,className:"converter_form_select",children:g(r)}),Object(d.jsx)("input",{type:"text",value:f.input,disabled:!0})]})})]})})};c(468),c(469);var k=function(){return Object(d.jsx)(s.a,{children:Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(g,{}),Object(d.jsx)(l.a,{exact:!0,path:["/home","/"],component:N}),Object(d.jsx)(l.a,{exact:!0,path:"/converter",component:E})]})})},C=c(214),V=c(67),S={valute:{}};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VALUTE":return Object(w.a)(Object(w.a)({},e),{},{valute:t.valute});default:return e}},A=Object(V.d)(T,Object(V.c)(Object(V.a)(C.a)));r.a.render(Object(d.jsx)(j.a,{store:A,children:Object(d.jsx)(k,{})}),document.getElementById("root"))}},[[470,1,2]]]);
//# sourceMappingURL=main.20d9b601.chunk.js.map